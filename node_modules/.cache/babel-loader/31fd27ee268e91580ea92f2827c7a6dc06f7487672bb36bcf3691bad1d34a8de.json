{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ritik\\\\my-webapp\\\\src\\\\components\\\\Challenge4.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Webcam from 'react-webcam';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { browserSupportsWebAuthn } from '@simplewebauthn/browser';\nimport MazeJourney from './MazeJourney'; // Reuse MazeJourney component\n\n// Styled-components for layout and form styling\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChallengeContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background: linear-gradient(to right, #040404, #000000, #656565);\n  text-align: center;\n`;\n_c = ChallengeContainer;\nconst Title = styled.h2`\n  font-size: 2.5rem;\n  color: white;\n  margin-bottom: 2rem;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n`;\n_c2 = Title;\nconst StatusText = styled.p`\n  margin-top: 1rem;\n  font-size: 1.2rem;\n  color: ${props => props.success ? '#28a745' : '#ff4757'};\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n`;\n_c3 = StatusText;\nconst Button = styled(motion.button)`\n  padding: 0.8rem 2rem;\n  background-color: #3498db;\n  color: white;\n  border: none;\n  border-radius: 50px;\n  font-size: 1.2rem;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  margin-top: 1.5rem;\n\n  &:hover {\n    background-color: #2980b9;\n  }\n\n  &:disabled {\n    background-color: #bdc3c7;\n    cursor: not-allowed;\n  }\n`;\n_c4 = Button;\nconst Challenge4 = () => {\n  _s();\n  const [faceScanStatus, setFaceScanStatus] = useState('Not Scanned');\n  const [fingerprintStatus, setFingerprintStatus] = useState('Not Scanned');\n  const [photoTaken, setPhotoTaken] = useState(false);\n  const [authenticating, setAuthenticating] = useState(false);\n  const navigate = useNavigate();\n  const webcamRef = useRef(null);\n\n  // Capture Face\n  const captureFace = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    console.log('Captured photo:', imageSrc);\n    setFaceScanStatus('Scanning...');\n    setPhotoTaken(true);\n\n    // Simulate face recognition success or failure\n    setTimeout(() => {\n      if (Math.random() * (0.6 - 0.4) + 0.4 > 0.5) {\n        // Simulated random success or failure\n        setFaceScanStatus('Face Detected!');\n        startFingerprintAuth(); // Proceed to fingerprint authentication\n      } else {\n        setFaceScanStatus('Face not detected, Please try again.');\n        setPhotoTaken(false);\n      }\n    }, 3000); // Simulated delay\n  }, []);\n\n  // Fingerprint Authentication\n  const startFingerprintAuth = async () => {\n    if (!browserSupportsWebAuthn()) {\n      alert('WebAuthn is not supported in your browser.');\n      return;\n    }\n    setAuthenticating(true);\n    try {\n      // Simulate immediate successful fingerprint authentication\n      setTimeout(() => {\n        setFingerprintStatus('Detected!');\n        navigate('/final'); // Redirect or perform action upon successful authentication\n        setAuthenticating(false);\n      }, 5000); // Simulated delay for user interaction\n    } catch (error) {\n      console.error('Error during face authentication:', error);\n      setFingerprintStatus('Authentication error. Try again.');\n      setAuthenticating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ChallengeContainer, {\n    children: [/*#__PURE__*/_jsxDEV(MazeJourney, {\n      currentStep: 4,\n      totalSteps: 4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      as: motion.h2,\n      initial: {\n        opacity: 0,\n        y: -50\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.8\n      },\n      children: \"Last Challenge: Face Authentication\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Webcam, {\n      audio: false,\n      ref: webcamRef,\n      screenshotFormat: \"image/jpeg\",\n      width: \"20%\",\n      style: {\n        borderRadius: '15px',\n        marginBottom: '1rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: captureFace,\n      disabled: photoTaken,\n      children: photoTaken ? 'Photo Taken' : 'Take Photo'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatusText, {\n      success: faceScanStatus === 'Face Detected!',\n      children: [\"Status: \", faceScanStatus]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), photoTaken && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: authenticating ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: 'white'\n          },\n          children: \"Facial Structure Authentication\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(StatusText, {\n          success: faceScanStatus === 'Face Detected!',\n          children: \"Authenticating...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true) : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Challenge4, \"axQdvI+63IMgxjhFFxnr8uYP8/A=\", false, function () {\n  return [useNavigate];\n});\n_c5 = Challenge4;\nexport default Challenge4;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ChallengeContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"StatusText\");\n$RefreshReg$(_c4, \"Button\");\n$RefreshReg$(_c5, \"Challenge4\");","map":{"version":3,"names":["React","useRef","useState","useNavigate","Webcam","styled","motion","browserSupportsWebAuthn","MazeJourney","jsxDEV","_jsxDEV","Fragment","_Fragment","ChallengeContainer","div","_c","Title","h2","_c2","StatusText","p","props","success","_c3","Button","button","_c4","Challenge4","_s","faceScanStatus","setFaceScanStatus","fingerprintStatus","setFingerprintStatus","photoTaken","setPhotoTaken","authenticating","setAuthenticating","navigate","webcamRef","captureFace","useCallback","imageSrc","current","getScreenshot","console","log","setTimeout","Math","random","startFingerprintAuth","alert","error","children","currentStep","totalSteps","fileName","_jsxFileName","lineNumber","columnNumber","as","initial","opacity","y","animate","transition","duration","audio","ref","screenshotFormat","width","style","borderRadius","marginBottom","onClick","disabled","color","_c5","$RefreshReg$"],"sources":["C:/Users/ritik/my-webapp/src/components/Challenge4.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Webcam from 'react-webcam';\r\nimport styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\nimport { browserSupportsWebAuthn } from '@simplewebauthn/browser';\r\nimport MazeJourney from './MazeJourney'; // Reuse MazeJourney component\r\n\r\n// Styled-components for layout and form styling\r\nconst ChallengeContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background: linear-gradient(to right, #040404, #000000, #656565);\r\n  text-align: center;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 2.5rem;\r\n  color: white;\r\n  margin-bottom: 2rem;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n`;\r\n\r\nconst StatusText = styled.p`\r\n  margin-top: 1rem;\r\n  font-size: 1.2rem;\r\n  color: ${(props) => (props.success ? '#28a745' : '#ff4757')};\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n`;\r\n\r\nconst Button = styled(motion.button)`\r\n  padding: 0.8rem 2rem;\r\n  background-color: #3498db;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50px;\r\n  font-size: 1.2rem;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  margin-top: 1.5rem;\r\n\r\n  &:hover {\r\n    background-color: #2980b9;\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: #bdc3c7;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst Challenge4 = () => {\r\n  const [faceScanStatus, setFaceScanStatus] = useState('Not Scanned');\r\n  const [fingerprintStatus, setFingerprintStatus] = useState('Not Scanned');\r\n  const [photoTaken, setPhotoTaken] = useState(false);\r\n  const [authenticating, setAuthenticating] = useState(false);\r\n  const navigate = useNavigate();\r\n  const webcamRef = useRef(null);\r\n\r\n  // Capture Face\r\n  const captureFace = React.useCallback(() => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    console.log('Captured photo:', imageSrc);\r\n    setFaceScanStatus('Scanning...');\r\n    setPhotoTaken(true);\r\n\r\n    // Simulate face recognition success or failure\r\n    setTimeout(() => {\r\n      if (Math.random() * (0.6 - 0.4) + 0.4 > 0.5) { // Simulated random success or failure\r\n        setFaceScanStatus('Face Detected!');\r\n        startFingerprintAuth(); // Proceed to fingerprint authentication\r\n      } else {\r\n        setFaceScanStatus('Face not detected, Please try again.');\r\n        setPhotoTaken(false);\r\n      }\r\n    }, 3000); // Simulated delay\r\n  }, []);\r\n\r\n  // Fingerprint Authentication\r\n  const startFingerprintAuth = async () => {\r\n    if (!browserSupportsWebAuthn()) {\r\n      alert('WebAuthn is not supported in your browser.');\r\n      return;\r\n    }\r\n\r\n    setAuthenticating(true);\r\n    try {\r\n      // Simulate immediate successful fingerprint authentication\r\n      setTimeout(() => {\r\n        setFingerprintStatus('Detected!');\r\n        navigate('/final'); // Redirect or perform action upon successful authentication\r\n        setAuthenticating(false);\r\n      }, 5000); // Simulated delay for user interaction\r\n    } catch (error) {\r\n      console.error('Error during face authentication:', error);\r\n      setFingerprintStatus('Authentication error. Try again.');\r\n      setAuthenticating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ChallengeContainer>\r\n      {/* MazeJourney to track progress */}\r\n      <MazeJourney currentStep={4} totalSteps={4} />\r\n\r\n      <Title\r\n        as={motion.h2}\r\n        initial={{ opacity: 0, y: -50 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.8 }}\r\n      >\r\n        Last Challenge: Face Authentication\r\n      </Title>\r\n\r\n      <Webcam\r\n        audio={false}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width=\"20%\"\r\n        style={{ borderRadius: '15px', marginBottom: '1rem' }}\r\n      />\r\n      <Button onClick={captureFace} disabled={photoTaken}>\r\n        {photoTaken ? 'Photo Taken' : 'Take Photo'}\r\n      </Button>\r\n      <StatusText success={faceScanStatus === 'Face Detected!'}>\r\n        Status: {faceScanStatus}\r\n      </StatusText>\r\n\r\n      {photoTaken && (\r\n        <div>\r\n         {authenticating ? (\r\n  <>\r\n    <h3 style={{color: 'white'}}>Facial Structure Authentication</h3>\r\n    <StatusText success={faceScanStatus === 'Face Detected!'}>\r\n      Authenticating...\r\n    </StatusText>\r\n  </>\r\n) : ''}\r\n\r\n          \r\n            {/* <span style={{ color: 'red' }}>\r\n              {authenticating ? 'Authenticating...' : ''}\r\n            </span> */}\r\n        </div>\r\n      )}\r\n    </ChallengeContainer>\r\n  );\r\n};\r\n\r\nexport default Challenge4;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}