{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ritik\\\\my-webapp\\\\src\\\\components\\\\Challenge4.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Webcam from 'react-webcam';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { browserSupportsWebAuthn } from '@simplewebauthn/browser';\nimport MazeJourney from './MazeJourney'; // Reuse MazeJourney component\n\n// Styled-components for layout and form styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChallengeContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 150vh;\n  background: linear-gradient(135deg, #000000 0%, #4D4855 100%);\n  text-align: center;\n`;\n_c = ChallengeContainer;\nconst Title = styled.h2`\n  font-size: 2.5rem;\n  color: white;\n  margin-bottom: 2rem;\n  font-family: 'Poppins', sans-serif;\n`;\n_c2 = Title;\nconst StatusText = styled.p`\n  margin-top: 1rem;\n  font-size: 1.2rem;\n  color: ${props => props.success ? '#28a745' : '#ff4757'};\n  font-family: 'Poppins', sans-serif;\n`;\n_c3 = StatusText;\nconst Button = styled(motion.button)`\n  padding: 0.8rem 2rem;\n  background-color: #3498db;\n  color: white;\n  border: none;\n  border-radius: 50px;\n  font-size: 1.2rem;\n  font-family: 'Poppins', sans-serif;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  margin-top: 1.5rem;\n\n  &:hover {\n    background-color: #2980b9;\n  }\n\n  &:disabled {\n    background-color: #bdc3c7;\n    cursor: not-allowed;\n  }\n`;\n_c4 = Button;\nconst Challenge4 = () => {\n  _s();\n  const [faceScanStatus, setFaceScanStatus] = useState('Not Scanned');\n  const [fingerprintStatus, setFingerprintStatus] = useState('Not Scanned');\n  const [photoTaken, setPhotoTaken] = useState(false);\n  const [authenticating, setAuthenticating] = useState(false);\n  const navigate = useNavigate();\n  const webcamRef = useRef(null);\n\n  // Capture Face\n  const captureFace = React.useCallback(() => {\n    const imageSrc = webcamRef.current.getScreenshot();\n    console.log('Captured photo:', imageSrc);\n    setFaceScanStatus('Scanning...');\n    setPhotoTaken(true);\n\n    // Simulate face recognition success or failure\n    setTimeout(() => {\n      if (Math.random() * (0.6 - 0.4) + 0.4 > 0.5) {\n        // Simulated random success or failure\n        setFaceScanStatus('Face recognized');\n        startFingerprintAuth(); // Proceed to fingerprint authentication\n      } else {\n        setFaceScanStatus('Face not recognized. Try again.');\n        setPhotoTaken(false);\n      }\n    }, 3000); // Simulated delay\n  }, []);\n\n  // Fingerprint Authentication\n  const startFingerprintAuth = async () => {\n    if (!browserSupportsWebAuthn()) {\n      alert('WebAuthn is not supported in your browser.');\n      return;\n    }\n    setAuthenticating(true);\n    try {\n      // Simulate immediate successful fingerprint authentication\n      setTimeout(() => {\n        setFingerprintStatus('Fingerprint recognized');\n        navigate('/final'); // Redirect or perform action upon successful authentication\n        setAuthenticating(false);\n      }, 5000); // Simulated delay for user interaction\n    } catch (error) {\n      console.error('Error during fingerprint authentication:', error);\n      setFingerprintStatus('Authentication error. Try again.');\n      setAuthenticating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ChallengeContainer, {\n    children: [/*#__PURE__*/_jsxDEV(MazeJourney, {\n      currentStep: 4,\n      totalSteps: 4\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Title, {\n      as: motion.h2,\n      initial: {\n        opacity: 0,\n        y: -50\n      },\n      animate: {\n        opacity: 1,\n        y: 0\n      },\n      transition: {\n        duration: 0.8\n      },\n      children: \"Challenge 4: Face Authentication\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Webcam, {\n      audio: false,\n      ref: webcamRef,\n      screenshotFormat: \"image/jpeg\",\n      width: \"30%\",\n      style: {\n        borderRadius: '15px',\n        marginBottom: '1rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: captureFace,\n      disabled: photoTaken,\n      children: photoTaken ? 'Photo Taken' : 'Take Photo'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StatusText, {\n      success: faceScanStatus === 'Face recognized',\n      children: [\"Status: \", faceScanStatus]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), photoTaken && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Facial Structure Authentication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: startFingerprintAuth,\n        disabled: authenticating,\n        children: authenticating ? 'Authenticating...' : 'Authenticate Fingerprint'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Challenge4, \"axQdvI+63IMgxjhFFxnr8uYP8/A=\", false, function () {\n  return [useNavigate];\n});\n_c5 = Challenge4;\nexport default Challenge4;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ChallengeContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"StatusText\");\n$RefreshReg$(_c4, \"Button\");\n$RefreshReg$(_c5, \"Challenge4\");","map":{"version":3,"names":["React","useRef","useState","useNavigate","Webcam","styled","motion","browserSupportsWebAuthn","MazeJourney","jsxDEV","_jsxDEV","ChallengeContainer","div","_c","Title","h2","_c2","StatusText","p","props","success","_c3","Button","button","_c4","Challenge4","_s","faceScanStatus","setFaceScanStatus","fingerprintStatus","setFingerprintStatus","photoTaken","setPhotoTaken","authenticating","setAuthenticating","navigate","webcamRef","captureFace","useCallback","imageSrc","current","getScreenshot","console","log","setTimeout","Math","random","startFingerprintAuth","alert","error","children","currentStep","totalSteps","fileName","_jsxFileName","lineNumber","columnNumber","as","initial","opacity","y","animate","transition","duration","audio","ref","screenshotFormat","width","style","borderRadius","marginBottom","onClick","disabled","_c5","$RefreshReg$"],"sources":["C:/Users/ritik/my-webapp/src/components/Challenge4.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Webcam from 'react-webcam';\r\nimport styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\nimport { browserSupportsWebAuthn } from '@simplewebauthn/browser';\r\nimport MazeJourney from './MazeJourney'; // Reuse MazeJourney component\r\n\r\n// Styled-components for layout and form styling\r\nconst ChallengeContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 150vh;\r\n  background: linear-gradient(135deg, #000000 0%, #4D4855 100%);\r\n  text-align: center;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 2.5rem;\r\n  color: white;\r\n  margin-bottom: 2rem;\r\n  font-family: 'Poppins', sans-serif;\r\n`;\r\n\r\nconst StatusText = styled.p`\r\n  margin-top: 1rem;\r\n  font-size: 1.2rem;\r\n  color: ${(props) => (props.success ? '#28a745' : '#ff4757')};\r\n  font-family: 'Poppins', sans-serif;\r\n`;\r\n\r\nconst Button = styled(motion.button)`\r\n  padding: 0.8rem 2rem;\r\n  background-color: #3498db;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 50px;\r\n  font-size: 1.2rem;\r\n  font-family: 'Poppins', sans-serif;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  margin-top: 1.5rem;\r\n\r\n  &:hover {\r\n    background-color: #2980b9;\r\n  }\r\n\r\n  &:disabled {\r\n    background-color: #bdc3c7;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst Challenge4 = () => {\r\n  const [faceScanStatus, setFaceScanStatus] = useState('Not Scanned');\r\n  const [fingerprintStatus, setFingerprintStatus] = useState('Not Scanned');\r\n  const [photoTaken, setPhotoTaken] = useState(false);\r\n  const [authenticating, setAuthenticating] = useState(false);\r\n  const navigate = useNavigate();\r\n  const webcamRef = useRef(null);\r\n\r\n  // Capture Face\r\n  const captureFace = React.useCallback(() => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    console.log('Captured photo:', imageSrc);\r\n    setFaceScanStatus('Scanning...');\r\n    setPhotoTaken(true);\r\n\r\n    // Simulate face recognition success or failure\r\n    setTimeout(() => {\r\n      if (Math.random() * (0.6 - 0.4) + 0.4 > 0.5) { // Simulated random success or failure\r\n        setFaceScanStatus('Face recognized');\r\n        startFingerprintAuth(); // Proceed to fingerprint authentication\r\n      } else {\r\n        setFaceScanStatus('Face not recognized. Try again.');\r\n        setPhotoTaken(false);\r\n      }\r\n    }, 3000); // Simulated delay\r\n  }, []);\r\n\r\n  // Fingerprint Authentication\r\n  const startFingerprintAuth = async () => {\r\n    if (!browserSupportsWebAuthn()) {\r\n      alert('WebAuthn is not supported in your browser.');\r\n      return;\r\n    }\r\n\r\n    setAuthenticating(true);\r\n    try {\r\n      // Simulate immediate successful fingerprint authentication\r\n      setTimeout(() => {\r\n        setFingerprintStatus('Fingerprint recognized');\r\n        navigate('/final'); // Redirect or perform action upon successful authentication\r\n        setAuthenticating(false);\r\n      }, 5000); // Simulated delay for user interaction\r\n    } catch (error) {\r\n      console.error('Error during fingerprint authentication:', error);\r\n      setFingerprintStatus('Authentication error. Try again.');\r\n      setAuthenticating(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ChallengeContainer>\r\n      {/* MazeJourney to track progress */}\r\n      <MazeJourney currentStep={4} totalSteps={4} />\r\n\r\n      <Title\r\n        as={motion.h2}\r\n        initial={{ opacity: 0, y: -50 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.8 }}\r\n      >\r\n        Challenge 4: Face Authentication\r\n      </Title>\r\n\r\n      <Webcam\r\n        audio={false}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width=\"30%\"\r\n        style={{ borderRadius: '15px', marginBottom: '1rem' }}\r\n      />\r\n      <Button onClick={captureFace} disabled={photoTaken}>\r\n        {photoTaken ? 'Photo Taken' : 'Take Photo'}\r\n      </Button>\r\n      <StatusText success={faceScanStatus === 'Face recognized'}>\r\n        Status: {faceScanStatus}\r\n      </StatusText>\r\n\r\n      {photoTaken && (\r\n        <div>\r\n          <h3>Facial Structure Authentication</h3>\r\n          <Button onClick={startFingerprintAuth} disabled={authenticating}>\r\n            {authenticating ? 'Authenticating...' : 'Authenticate Fingerprint'}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </ChallengeContainer>\r\n  );\r\n};\r\n\r\nexport default Challenge4;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}